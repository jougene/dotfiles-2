---

- hosts: all

  tasks:
    - name: Install basic tools
      apt: name={{ item }} state=latest
      become: yes
      with_items:
        - curl
        - git
        - vim
        - wget

    - file: src={{ playbook_dir }}/{{ item }} dest=~/.{{ item }} state=link
      with_items:
        - gitconfig
        - vimrc
      tags: vim

     # Vim. Vundle plugin manager
    - git:
        repo: https://github.com/gmarik/Vundle.vim.git
        dest: ~/.vim/bundle/Vundle.vim
        version: v0.10.2
      tags: vim

    - name: Install build-essential
      apt: name={{ item }} state=latest
      become: yes
      with_items:
        - build-essential
        - libssl-dev
        - libffi-dev
        - python-dev

    # Python
    - name: Install Python pip
      easy_install: name=pip
      become: yes
      tags: python

    - name: Upgrade pip
      pip: name=pip extra_args='--upgrade'

    - name: Install Python modules with pip
      pip: name={{ item }} state=latest
      become: yes
      with_items:
        - certifi
        - pyopenssl
        - ndg-httpsclient
        - pyasn1
        - pylint
        - ansible-lint
      tags: python
